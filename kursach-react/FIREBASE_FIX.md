# Исправление проблем с деплоем на Firebase

## Проблема: CORS ошибки и сайт не грузит

### Решение 1: Настройка переменных окружения

**ВАЖНО:** Создайте файл `.env.production` в папке `kursach-react/`:

```env
REACT_APP_API_URL=https://your-backend-url.com/api
```

Замените `https://your-backend-url.com/api` на реальный URL вашего задеплоенного бэкенда.

### Решение 2: Задеплойте бэкенд

Бэкенд НЕ МОЖЕТ работать на localhost в продакшене. Вам нужно задеплоить его на:

- **Heroku** (рекомендуется, бесплатно)
- **Railway** (бесплатно)
- **Render** (бесплатно)
- **Vercel** (бесплатно, но нужна настройка)
- **DigitalOcean** (платно)

#### Быстрый деплой на Railway:

1. Зайдите на https://railway.app
2. Создайте новый проект
3. Добавьте MySQL базу данных
4. Задеплойте код из папки `server`
5. Настройте переменные окружения в Railway
6. Получите URL вашего бэкенда (например: `https://your-app.railway.app`)

### Решение 3: Обновите .env.production

После деплоя бэкенда обновите `.env.production`:

```env
REACT_APP_API_URL=https://your-app.railway.app/api
```

### Решение 4: Пересоберите и задеплойте

```bash
cd kursach-react

# Убедитесь что .env.production содержит правильный URL
# Затем соберите проект
npm run build

# Задеплойте
firebase deploy
```

## Проверка

1. Откройте консоль браузера (F12)
2. Проверьте что запросы идут на правильный URL (не localhost)
3. Проверьте что нет CORS ошибок
4. Проверьте что бэкенд отвечает на запросы

## Временное решение для тестирования

Если нужно быстро протестировать локально:

1. Убедитесь что бэкенд запущен: `cd server && npm start`
2. Убедитесь что фронтенд использует localhost: `npm start` (не build)
3. Проверьте что CORS настроен правильно в `server/server.js`

## Частые ошибки

### "Network Error" или CORS ошибка
- Убедитесь что бэкенд запущен и доступен
- Проверьте URL в `.env.production`
- Проверьте настройки CORS в `server/server.js`

### "Cannot GET /"
- Убедитесь что `firebase.json` указывает на папку `build`
- Выполните `npm run build` перед деплоем

### Запросы идут на localhost в продакшене
- Проверьте что `.env.production` существует и содержит правильный URL
- Пересоберите проект: `npm run build`
- Убедитесь что переменная `REACT_APP_API_URL` установлена

